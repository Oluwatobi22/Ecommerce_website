
<!DOCTYPE html>
<html lang="en">
  
<head>
</head>

<body>
    <input type="file" name="" id="fileId" 
    onchange="imageUploaded()">
    <br><br>
 
<div id="main">
  
</div>
    <script>
        let base64String = "";
        var picture =[];
  
  function imageUploaded() {
      var file = document.querySelector(
          'input[type=file]')['files'][0];
      var reader = new FileReader();
 
      reader.onload = function () {
          base64String = reader.result
          imageBase64Stringsep = base64String;
          console.log(base64String);
            let move = {
                  pics:base64String
                }
                  picture.push(move)
                  localStorage.pictt = JSON.stringify(picture)
        }
        reader.readAsDataURL(file);
  }

    // console.log(allpics);     
  function getBase64Img() {
    let allpics = JSON.parse(localStorage.getItem("pictt")) ; 
  for (let i = 0; i < allpics.length; i++) {
 return allpics[i].pics
  }
}
var base64img = getBase64Img();
function Base64ToImage(base64img, callback) {
    var img = new Image();
    img.onload = function() {
        callback(img);
    };
    img.src = base64img;
}
Base64ToImage(base64img, function(img) {
    document.getElementById('main').appendChild(img);
});
    </script>
</body>
  
</html>